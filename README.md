# 게시판 프로젝트
> **권한에 따라 분리되어있는 게시판** <br/> **개발기간: 2023.09 ~ 2023.12** <br/> **1인 개발** <br/> **데이터베이스: mariadb,redis,mongodb(댓글 한정)**  <br/>
**배포: cloudType**</br>
> **프론트 앤드 <-> 백엔드 통신 방식: REST API** 
## 서버 내부 구조
<img width="706" alt="스크린샷 2023-12-07 오후 3 20 18" src="https://github.com/xron2626/recent-board-project/assets/133539339/2d20a72e-06f3-4a13-aeda-825691d2b580">
url 도메인을 통해서 https://siteproject22.online을 작성할 경우 nginx에서 / 
## 화면 구성 📺



|                       메인 페이지                        |                     로그인 페이지                      |
| :------------------------------------------------------: | :---------------------------------------------------------: |
| <img width="329" src="https://bit.ly/3GvlSxR"/>  | <img width="329" src="https://bit.ly/47ZZhG5"/> |
|                      쪽지 페이지                      |                       게시글 보기 페이지                       |
| <img width="329" src="https://bit.ly/3TdXp7T"/> | <img width="329" src="https://bit.ly/3NfneAM"/> |
|                      통계 페이지                      |                       swagger                       |
| <img width="329" src="https://bit.ly/4808Cgk"/> | <img width="329" src="https://bit.ly/47Ky75O"/> |
---

## 백엔드 개발한 기능 📦
### ⭐️ 리액트와 스프링부트를 다른 서버로 분리하여 배포한다음 스프링부트는 서브도메인, 리액트는 도메인에 연결한다음 쿠키로 통신할 수 있게끔 설정
### ⭐️ 비회원은 쿠키에서 uuid값으로 통신, 회원은 쿠키의 token 값으로 통신하도록 설정(우선순위는 회원의 token값 먼저 설정하고, 해당 토큰 데이터가 잘못되었거나, 없으면 uuid로 통신하게끔 설정)
### ⭐️ Oauth도 시큐리티랑 연동해서 시큐리티에 있던 라이브러리의 기능을 DI를 이용해 구현해서 내부 로직을 추가하여 앞의 부분과 마찬가지로 회원계정으로 token값으로 통신할 수 있게끔 설정
### ⭐️ REST API를 할 수 있는 범위까지 만들어보고, 간단하게 테스트 코드도 일부 추가함
### ⭐️ 내가 요청하지 않은 곳에서 쿠키값을 요청할 수 있으니 CORS 설정
### ⭐️ uuid랑 토큰 값은 인터셉터를 이용해 서비스가 시작되기 전에 항상 먼저 없으면 uuid 데이터가 추가되거나 token 만료로 인한 로그아웃 페이지로 강제이동 같은 처리 추가
### ⭐️ Oauth에서 제공하는 데이터만으로 부족할 때, OAUTH 로그인 시도할 떄 가입하지 않은 게정이면, 추가 데이터를 강제로 입력하도록 설정하고, 이후 로그인 될 떄 부터는 가입된 계정안에 추가 데이터가 들어있으니
바로 로그인되도록 설정
### ⭐️ 아이디 찾기, 비밀번호 변경, 게시판 쓰기, 게시판 읽기, 회원가입, 좋아요, 싫어요, 댓글, 대댓글 작성, ckeditor(이미지 업로드, 텍스트 정렬, 폰트 사이즈 크기, 폰트 색 설정)등 다양한 기능 추가 
### ⭐️ 게시글 작성자에게 댓글이 달릴경우 해당 작성자에게 서버의 소켓을 추가하여 알림이 뜨게 하고 쪽지 페이지에 해당 작성자에게만 알림이 뜬 데이터들을 확인할 수 있게 기능 추가
### ⭐️ 내가 만든 프로젝트를 실제 도메인 사이트에 연결하면서, 로컬로도 동작할 수 있게끔 설정
### ⭐️ 테스트 환경과 개발 환경의 설정을 살짝 분리했고, 암호가 중요한 경우는 환경변수로 설정하고, 환경변수와 관련된 데이터는 깃허브에 등록하지 않음
### ⭐️ 오랫동안 저장되지 않아도 데이터는 Redis에 추가하고, Comment에 한정해서 List 타입으로 다루는게 코드가 간단해보여서 몽고db로 사용
### ⭐️ 어드민용 통계페이지 및 swagger 작성











